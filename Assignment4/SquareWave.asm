; Square Wave
cpu "8085.tbl"
hof "int8"

org 9000H

MVI A, 80H
OUT 43H


SQUARE:
	MVI A, 0FFH								
	OUT 40H
	OUT 41H
	CALL DELAY
	MVI A, 00H								
	OUT 40H
	OUT 41H
	PUSH PSW
	CALL DELAY
	POP PSW
	JMP SQUARE


DELAY:	MVI B,01H
OUTLOOP:LXI D, 0FFFFH
INLOOP:	DCX D
		MOV A,D
		ORA E
		JNZ INLOOP
		DCR B
		JNZ OUTLOOP
		RET
