; Symmetric Staircase
cpu "8085.tbl"
hof "int8"

org 9000H

MVI A, 80H
OUT 43H


MVI A,00H

SYMSTAIR:
	OUT 40H
	OUT 41H
	PUSH PSW
	CALL DELAY
	POP PSW
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	INR A
	CPI 0FFH
	JNZ SYMSTAIR
SYMLOOP:
	OUT 40H
	OUT 41H
	PUSH PSW
	CALL DELAY
	POP PSW
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	DCR A
	CPI 00H
	JNZ SYMLOOP
	JMP SYMSTAIR


DELAY:	MVI B,01H
OUTLOOP:LXI D, 0FFFFH
INLOOP:	DCX D
		MOV A,D
		ORA E
		JNZ INLOOP
		DCR B
		JNZ OUTLOOP
		RET
