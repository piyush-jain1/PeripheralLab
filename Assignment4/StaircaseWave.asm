; Staircase Wave
cpu "8085.tbl"
hof "int8"

org 9000H

MVI A, 80H
OUT 43H


MVI A,00H

STAIRCASE:
	OUT 40H
	OUT 41H
	PUSH PSW
	CALL DELAY
	POP PSW
	ADI 0FH
	CPI 0FFH
	JNZ STAIRCASE
	MVI A,00H
	JMP STAIRCASE


DELAY:	MVI B,01H
OUTLOOP:LXI D, 0FFFFH
INLOOP:	DCX D
		MOV A,D
		ORA E
		JNZ INLOOP
		DCR B
		JNZ OUTLOOP
		RET
